;(function(a){a.fn.tabs=function(b){a.fn.tabs.defaults={firstOn:0,className:"on",hoverClassName:"",eventName:"all",loadName:"加载中...",fadeIn:"normal",ifrBox:"normal",autoFade:false,autoFadeTime:3,height:600};var c=a.extend({},a.fn.tabs.defaults,b);return this.each(function(){var i=a(this);var d;var k=i.find(".d-tabs-item");if(c.ifrBox!="normal"){d=c.ifrBox}else{d=i.find(".d-tabs-view")}j();var g=0;var h;var f=null;function j(){if(c.ifrBox!="normal"){if(c.height=="100%"){c.ifrBox.height(a(window).height()-i.find("div").eq(0).height()-5);a(window).resize(function(){c.ifrBox.height(a(window).height()-i.find("div").eq(0).height()-5)})}else{c.ifrBox.height(c.height)}}}function e(o,p){if(!!c.hoverClassName){a(this).removeClass(c.hoverClassName)}if(a(this).hasClass(c.className)){return false}g=k.index(a(this));if(c.autoFade){h=g}if(!p>0){window.clearInterval(f)}n(d,a(this));return false}function m(r,o,p){var q;if(typeof(p)=="number"){q=p}else{q=g}r.attr("src",o.attr("href"));k.stop(true,true).removeClass(c.className);a(k[q]).stop(true,true).addClass(c.className)}function n(r,o,p){if(c.ifrBox!="normal"){m(r,o,p);return}r.stop(true,true).hide();if(typeof(p)=="number"){if(o.attr("href")){l(r.eq(p),o)}a(r[p]).stop(true,true).fadeIn(c.fadeIn);k.stop(true,true).removeClass(c.className);a(k[p]).stop(true,true).addClass(c.className)}else{var q=r.eq(g);if(o.attr("href")){l(q,o)}q.stop(true,true).fadeIn(c.fadeIn);k.stop(true,true).removeClass(c.className);o.stop(true,true).addClass(c.className)}}function l(r,o){var p=o.attr("href");var q=r;if(p){q.html(c.loadName);a.ajax({url:p,cache:false,success:function(s){q.html(s)},error:function(){q.html("加载错误，请重试！")}});o.removeAttr("href")}}if(c.autoFade){h=c.firstOn;f=setInterval(function(){h++;if(h>=d.length){h=0}n(d,a(this),h)},c.autoFadeTime*1000)}if(!!c.hoverClassName){k.hover(function(){if(a(this).hasClass(c.className)){return}a(this).addClass(c.hoverClassName)},function(){if(a(this).hasClass(c.className)){return}a(this).removeClass(c.hoverClassName)})}k.bind(c.eventName=="all"?"click mouseover":c.eventName,e).filter(":first").trigger(c.eventName=="all"?"click":c.eventName,10)})}})(jQuery);
